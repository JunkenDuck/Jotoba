@use super::subtemplates::{head_html, input_dropdown_html, search_overlays_html, settings_html, main_body_html, footer_html};
@use crate::BaseData;

@(data: BaseData)

<!DOCTYPE html>
<html lang="en">
   @:head_html(&data)

   <body>

      <div>

         <!-- Search Row -->
         <div id="search-row" class="wrap-row">
            <div class="d-flex center">

               <!-- Settings Button -->
               <div class="btn-container settingsBtn" data-toggle="modal" data-target="#settingsModal">
                  <object fill="--tagColor" class="svg-embed" type="image/svg+xml" data="assets/svg/ui/settings.svg"></object>
               </div>

               <!-- Search Bar -->
               <div id="searchDiv">
                  <div class="searchDivInner">
                     <form method="GET" action="/search" onsubmit="return onSearchStart()">
                        <div class="inner-form">
                           
                            @:input_dropdown_html(&data)

                           <div class="input-field second-wrap">
                              <div class="input-group">
                                 <input id="search" name="search" type="text" value="@data.get_query_str()" placeholder='@data.gettext("Search...")' tabindex="1" lang="ja" autocapitalize="off" autocomplete="off" data-autoload="false" data-effective-keyword=""/>
                                 <span id="shadow-text"></span>
                                 <button id="emptyInput" type="button" class="btn bg-transparent" onclick="emptySearchInput()">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
                                       <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path>
                                    </svg>
                                 </button>
                                 <span id="search-vl"></span>
                                 <button id="searchBtn" class="search-embedded-btn search" type="submit">
                                    <object fill="--primaryColor" class="svg-embed" type="image/svg+xml" data="assets/svg/ui/search.svg"></object>
                                 </button>
                                 <button type="button" id="voiceBtn" class="search-embedded-btn" onclick='toggleSpeakOverlay()'>
                                    <svg height="24" width="24" viewBox="0 0 24 24">
                                       <path d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"></path>
                                    </svg>
                                 </button>
                                 <button type="button" class="search-embedded-btn radical" onclick="toggleRadicalOverlay()">
                                    <span class="rad-picker-icon noselect">éƒ¨</span>
                                 </button>
                             </div>
                           </div>
                        </div>
                     </form>
                  </div>

                  @:search_overlays_html(&data)

               </div>
            </div>

            @:settings_html(&data)

         </div>

         @:main_body_html(&data)

      </div>

      @:footer_html(&data)

   </body>
</html>
