@use search::sentence::result::Item;
@use super::search_help;
@use crate::BaseData;
@(data: &BaseData, sentences: Vec<Item>)

<!-- Inner Top Row -->
<div class="d-flex center no-drag">
  <div class="main-tab-select l">
    <h2 id="previousTabBtn" onclick="changeSearchType(3)" class="tab-btn">&larr; @data.gettext("Names")</h2>
  </div>

  @if !sentences.is_empty() {
      <div class="title-div">
        <h1>@data.gettext("Sentences")</h1>
      </div>
  }

  <div class="main-tab-select r">
    <h2 id="nextTabBtn" onclick="changeSearchType(0)" class="tab-btn">@data.gettext("Words") &rarr;</h2>
  </div>
</div>
<br>

<!-- Inner Main Body -->
<div class="d-flex center">
  <div class="main-info d-flex flex-column">

    @if sentences.is_empty() {
      @:search_help("sentences")
    }

    <!-- !!! Start of Sentence Template  !!! -->
    @for sentence in sentences {
      <div class="list-entry sentence">
        <div class="d-flex flex-row wrap sentence">

          @for spair in sentence.sentence.furigana_pairs() {
            @if spair.kanji.is_some() {
              <div class="furigana-kanji-container">
                <span class="furigana-preview small noselect">
                  @spair.kana
                </span>
                <span class="kanji-preview small">
                  @spair.kanji.unwrap()
                </span>
              </div>
            } else {
              <div class="inline-kana-preview small">
                @spair.kana
              </div>
            }
          }
        </div>

        <div class="sentence-translation original">
          @sentence.sentence.translation
        </div>
        @if let Some(ref english) = sentence.sentence.get_english() {
          <hr class="lang-separator"/>
          <div class="sentence-translation">
            @english
          </div>
        }
      </div>
     <hr class="res-separator sentence" />
    }

  </div>
</div>

